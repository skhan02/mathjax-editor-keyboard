!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MathJaxEditorKeyboard=t():e.MathJaxEditorKeyboard=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=37)}([function(e,t,n){"use strict";function r(e){function t(){l.add(e,"ps-focus")}function n(){l.remove(e,"ps-focus")}var r=this;r.settings=s.clone(c),r.containerWidth=null,r.containerHeight=null,r.contentWidth=null,r.contentHeight=null,r.isRtl="rtl"===u.css(e,"direction"),r.isNegativeScroll=function(){var t=e.scrollLeft,n=null;return e.scrollLeft=-1,n=e.scrollLeft<0,e.scrollLeft=t,n}(),r.negativeScrollAdjustment=r.isNegativeScroll?e.scrollWidth-e.clientWidth:0,r.event=new d,r.ownerDocument=e.ownerDocument||document,r.scrollbarXRail=u.appendTo(u.e("div","ps-scrollbar-x-rail"),e),r.scrollbarX=u.appendTo(u.e("div","ps-scrollbar-x"),r.scrollbarXRail),r.scrollbarX.setAttribute("tabindex",0),r.event.bind(r.scrollbarX,"focus",t),r.event.bind(r.scrollbarX,"blur",n),r.scrollbarXActive=null,r.scrollbarXWidth=null,r.scrollbarXLeft=null,r.scrollbarXBottom=s.toInt(u.css(r.scrollbarXRail,"bottom")),r.isScrollbarXUsingBottom=r.scrollbarXBottom===r.scrollbarXBottom,r.scrollbarXTop=r.isScrollbarXUsingBottom?null:s.toInt(u.css(r.scrollbarXRail,"top")),r.railBorderXWidth=s.toInt(u.css(r.scrollbarXRail,"borderLeftWidth"))+s.toInt(u.css(r.scrollbarXRail,"borderRightWidth")),u.css(r.scrollbarXRail,"display","block"),r.railXMarginWidth=s.toInt(u.css(r.scrollbarXRail,"marginLeft"))+s.toInt(u.css(r.scrollbarXRail,"marginRight")),u.css(r.scrollbarXRail,"display",""),r.railXWidth=null,r.railXRatio=null,r.scrollbarYRail=u.appendTo(u.e("div","ps-scrollbar-y-rail"),e),r.scrollbarY=u.appendTo(u.e("div","ps-scrollbar-y"),r.scrollbarYRail),r.scrollbarY.setAttribute("tabindex",0),r.event.bind(r.scrollbarY,"focus",t),r.event.bind(r.scrollbarY,"blur",n),r.scrollbarYActive=null,r.scrollbarYHeight=null,r.scrollbarYTop=null,r.scrollbarYRight=s.toInt(u.css(r.scrollbarYRail,"right")),r.isScrollbarYUsingRight=r.scrollbarYRight===r.scrollbarYRight,r.scrollbarYLeft=r.isScrollbarYUsingRight?null:s.toInt(u.css(r.scrollbarYRail,"left")),r.scrollbarYOuterWidth=r.isRtl?s.outerWidth(r.scrollbarY):null,r.railBorderYWidth=s.toInt(u.css(r.scrollbarYRail,"borderTopWidth"))+s.toInt(u.css(r.scrollbarYRail,"borderBottomWidth")),u.css(r.scrollbarYRail,"display","block"),r.railYMarginHeight=s.toInt(u.css(r.scrollbarYRail,"marginTop"))+s.toInt(u.css(r.scrollbarYRail,"marginBottom")),u.css(r.scrollbarYRail,"display",""),r.railYHeight=null,r.railYRatio=null}function i(e){return e.getAttribute("data-ps-id")}function o(e,t){e.setAttribute("data-ps-id",t)}function a(e){e.removeAttribute("data-ps-id")}var s=n(1),l=n(6),c=n(20),u=n(4),d=n(17),h=n(18),p={};t.add=function(e){var t=h();return o(e,t),p[t]=new r(e),p[t]},t.remove=function(e){delete p[i(e)],a(e)},t.get=function(e){return p[i(e)]}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(6),o=n(4),a=t.toInt=function(e){return parseInt(e,10)||0},s=t.clone=function(e){if(e){if(e.constructor===Array)return e.map(s);if("object"===(void 0===e?"undefined":r(e))){var t={};for(var n in e)t[n]=s(e[n]);return t}return e}return null};t.extend=function(e,t){var n=s(e);for(var r in t)n[r]=s(t[r]);return n},t.isEditable=function(e){return o.matches(e,"input,[contenteditable]")||o.matches(e,"select,[contenteditable]")||o.matches(e,"textarea,[contenteditable]")||o.matches(e,"button,[contenteditable]")},t.removePsClasses=function(e){for(var t=i.list(e),n=0;n<t.length;n++){var r=t[n];0===r.indexOf("ps-")&&i.remove(e,r)}},t.outerWidth=function(e){return a(o.css(e,"width"))+a(o.css(e,"paddingLeft"))+a(o.css(e,"paddingRight"))+a(o.css(e,"borderLeftWidth"))+a(o.css(e,"borderRightWidth"))},t.startScrolling=function(e,t){i.add(e,"ps-in-scrolling"),void 0!==t?i.add(e,"ps-"+t):(i.add(e,"ps-x"),i.add(e,"ps-y"))},t.stopScrolling=function(e,t){i.remove(e,"ps-in-scrolling"),void 0!==t?i.remove(e,"ps-"+t):(i.remove(e,"ps-x"),i.remove(e,"ps-y"))},t.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},function(e,t,n){"use strict";function r(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function i(e,t){var n={width:t.railXWidth};t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-e.scrollTop:n.top=t.scrollbarXTop+e.scrollTop,s.css(t.scrollbarXRail,n);var r={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?r.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:r.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?r.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:r.left=t.scrollbarYLeft+e.scrollLeft,s.css(t.scrollbarYRail,r),s.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),s.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}var o=n(1),a=n(6),s=n(4),l=n(0),c=n(3);e.exports=function(e){var t=l.get(e);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight;var n;e.contains(t.scrollbarXRail)||(n=s.queryChildren(e,".ps-scrollbar-x-rail"),n.length>0&&n.forEach(function(e){s.remove(e)}),s.appendTo(t.scrollbarXRail,e)),e.contains(t.scrollbarYRail)||(n=s.queryChildren(e,".ps-scrollbar-y-rail"),n.length>0&&n.forEach(function(e){s.remove(e)}),s.appendTo(t.scrollbarYRail,e)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=r(t,o.toInt(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=o.toInt((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=r(t,o.toInt(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=o.toInt(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),i(e,t),t.scrollbarXActive?a.add(e,"ps-active-x"):(a.remove(e,"ps-active-x"),t.scrollbarXWidth=0,t.scrollbarXLeft=0,c(e,"left",0)),t.scrollbarYActive?a.add(e,"ps-active-y"):(a.remove(e,"ps-active-y"),t.scrollbarYHeight=0,t.scrollbarYTop=0,c(e,"top",0))}},function(e,t,n){"use strict";var r,i,o=n(0),a=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t};e.exports=function(e,t,n){if(void 0===e)throw"You must provide an element to the update-scroll function";if(void 0===t)throw"You must provide an axis to the update-scroll function";if(void 0===n)throw"You must provide a value to the update-scroll function";"top"===t&&n<=0&&(e.scrollTop=n=0,e.dispatchEvent(a("ps-y-reach-start"))),"left"===t&&n<=0&&(e.scrollLeft=n=0,e.dispatchEvent(a("ps-x-reach-start")));var s=o.get(e);"top"===t&&n>=s.contentHeight-s.containerHeight&&(n=s.contentHeight-s.containerHeight,n-e.scrollTop<=1?n=e.scrollTop:e.scrollTop=n,e.dispatchEvent(a("ps-y-reach-end"))),"left"===t&&n>=s.contentWidth-s.containerWidth&&(n=s.contentWidth-s.containerWidth,n-e.scrollLeft<=1?n=e.scrollLeft:e.scrollLeft=n,e.dispatchEvent(a("ps-x-reach-end"))),r||(r=e.scrollTop),i||(i=e.scrollLeft),"top"===t&&n<r&&e.dispatchEvent(a("ps-scroll-up")),"top"===t&&n>r&&e.dispatchEvent(a("ps-scroll-down")),"left"===t&&n<i&&e.dispatchEvent(a("ps-scroll-left")),"left"===t&&n>i&&e.dispatchEvent(a("ps-scroll-right")),"top"===t&&(e.scrollTop=r=n,e.dispatchEvent(a("ps-scroll-y"))),"left"===t&&(e.scrollLeft=i=n,e.dispatchEvent(a("ps-scroll-x")))}},function(e,t,n){"use strict";function r(e,t){return window.getComputedStyle(e)[t]}function i(e,t,n){return"number"==typeof n&&(n=n.toString()+"px"),e.style[t]=n,e}function o(e,t){for(var n in t){var r=t[n];"number"==typeof r&&(r=r.toString()+"px"),e.style[n]=r}return e}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s={};s.e=function(e,t){var n=document.createElement(e);return n.className=t,n},s.appendTo=function(e,t){return t.appendChild(e),e},s.css=function(e,t,n){return"object"===(void 0===t?"undefined":a(t))?o(e,t):void 0===n?r(e,t):i(e,t,n)},s.matches=function(e,t){return void 0!==e.matches?e.matches(t):void 0!==e.matchesSelector?e.matchesSelector(t):void 0!==e.webkitMatchesSelector?e.webkitMatchesSelector(t):void 0!==e.mozMatchesSelector?e.mozMatchesSelector(t):void 0!==e.msMatchesSelector?e.msMatchesSelector(t):void 0},s.remove=function(e){void 0!==e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},s.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return s.matches(e,t)})},e.exports=s},function(e,t,n){"use strict";e.exports={mustFindElement:function(e,t){var n=new Error("You must define a target element.");if(!e)throw n;if("string"==typeof e&&!(e=document.querySelector(e)))throw n;if(e.tagName.toLowerCase()!==t.toLowerCase())throw new Error("The target element must be <"+t+">.");return e},insertBetween:function(e,t,n){return e.slice(0,t)+n+e.slice(t)},removeClass:function(e,t){var n=e.className.split(" "),r="",i=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;c!==t&&(r+=" "+c)}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}e.className=r.trim()},addClass:function(e,t){~e.className.split(" ").indexOf(t)||(e.className+=" "+t),e.className=e.className.trim()},toArray:function(e){return[].slice.call(e)},inArray:function(e,t){return!!~t.indexOf(e)},repeat:function(e,t){for(var n="",r=e+e,i=t%2!=0,o=Math.floor(t/2),a=0;a<o;a++)n+=r;return i&&(n+=e),n},removeFragment:function(e,t,n){return e.slice(0,t)+e.slice(n)},listToCharacterRegex:function(e){var t=e.map(function(e){return"\\"+e}).join("");return new RegExp("^["+t+"]$")}}},function(e,t,n){"use strict";function r(e,t){var n=e.className.split(" ");n.indexOf(t)<0&&n.push(t),e.className=n.join(" ")}function i(e,t){var n=e.className.split(" "),r=n.indexOf(t);r>=0&&n.splice(r,1),e.className=n.join(" ")}t.add=function(e,t){e.classList?e.classList.add(t):r(e,t)},t.remove=function(e,t){e.classList?e.classList.remove(t):i(e,t)},t.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.registry={}}return i(e,[{key:"on",value:function(e,t){this.registry[e]=(this.registry[e]||[]).concat(t)}},{key:"trigger",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.registry[e]&&this.registry[e].forEach(function(e){return e.apply(void 0,n)})}}]),e}();e.exports=o},function(e,t,n){"use strict";e.exports={cursorTex:"{\\cursor}",emptyTex:"\\isEmpty",spacingTex:"\\;",number:/^[0-9]$/,variable:/^[a-zA-Z]$/,nearClosureHaystack:["}","]"],supOrSub:["^","_"],operators:["+","-","=","<",">",",",".",":",";","?","(",")","[","]","|"],escapedOperators:["{","}","%"],escType:{"%":"mi"},charToCommand:{"*":"cdot","/":"div"},relationCommands:["geq","leq","ll","gg","doteq","equiv","approx","cong","simeq","sim","propto","neq","subset","subseteq","nsubseteq","sqsubset","sqsubseteq","preceq","supset","supseteq","nsupseteq","sqsupset","sqsupseteq","succeq"]}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(11),a=n(16),s=n(32),l=n(5),c=l.addClass,u=l.removeClass,d=n(36),h=d.applyStyles,p=d.emptyElement,f=d.findNode,b=d.findClass,m=(n(35),function(){function e(t){r(this,e);var n=MathJax.HTML.Element,i=n("div",{className:"Mathjax_KeyboardContainer"}),a=n("div",{className:"Mathjax_KeyboardKeyboard"}),s=n("div",{className:"Mathjax_KeyboardArrow"}),l=window.innerWidth;i.appendChild(a),i.appendChild(s),document.body.appendChild(i),a.style.zIndex=t.keyboardZIndex,s.style.zIndex=t.keyboardZIndex;var c=new o(t);this.mathjaxEditor=c,this.isMobile=l<640,this.isVisible=!1,this.pageIndex=0,this.$arrow=s,this.$container=i,this.$el=c.core.$el,this.$cursor=c.core.$cursor,this.$keyboard=a,this.$editorContainer=c.core.$container,this.$editorInput=c.core.$input,this.$editorDisplay=c.core.$display,document.addEventListener("mousedown",this.handleDocumentClick.bind(this)),this.setupScrollbar(),this.hideKeyboard()}return i(e,[{key:"render",value:function(){var e=this,t=MathJax.HTML.Element,n=this.$keyboard,r=this.mathjaxEditor,i=this.pageIndex,o=s.getPage(i),a=s.getKeyColumns(),l=300/a,c=l+"px";p(n),n.style.width="320px",o.forEach(function(o,a){var l=t("div",{className:"Mathjax_KeyboardKeyRow"});o.forEach(function(n,o){var u=s.getKey(i,a,o),d=t("button",{className:"Mathjax_KeyboardKey",style:{fontSize:"16px",height:c,width:c}});if(u.exists()){var h=u.getClickListener();d.innerHTML=u.getLabel(),d.addEventListener("click",function(){h(r,e),e.updateInputElement()})}else d.setAttribute("disabled","disabled");l.appendChild(d)}),n.appendChild(l)}),MathJax.Hub.Typeset(n),this.updateInputElement(),this.updateContainerElement()}},{key:"updateInputElement",value:function(){var e=this.$arrow,t=this.$cursor,n=this.$keyboard,r=this.$container,i=this.$editorContainer,o=this.$editorInput,a=(this.mathjaxEditor,window.innerWidth),s=n.getBoundingClientRect(),l=s.top;if(this.isMobile){var d=(Math.max(a,320)-320)/2;o.setAttribute("readonly","true"),r.appendChild(i),r.appendChild(t),c(i,"Mathjax_KeyboardInput"),c(n,"isMobile"),u(n,"isDesktop"),h(n,{paddingLeft:d,paddingRight:d}),h(i,{fontSize:12,left:0,width:a}),h(i,{top:l-i.offsetHeight}),h(e,{display:"none"})}else c(n,"isDesktop"),u(n,"isMobile"),h(e,{display:"block"}),this.appendEditorNextToTargetElement()}},{key:"appendEditorNextToTargetElement",value:function(){var e=this.$editorContainer,t=this.$el;u(e,"Mathjax_KeyboardInput"),t.parentNode.insertBefore(e,t.nextSibling)}},{key:"appendCursorToContainer",value:function(){var e=this.$container,t=this.$cursor;e.appendChild(t)}},{key:"updateContainerElement",value:function(){var e=this.$arrow,t=this.$keyboard,n=this.$container,r=this.$editorContainer,i=void 0,o=void 0,a=void 0,s=void 0;if(this.isMobile)i="100%",o=0,a=0,s="100%";else{var l=r.getBoundingClientRect(),c=t.getBoundingClientRect(),u=l.left+l.width/2-c.width/2;i=c.height,o=u,a=l.top+l.height+16,s=c.width,h(e,{left:s/2-20})}h(n,{height:i,left:o,top:a,width:s})}},{key:"setupScrollbar",value:function(){var e=this.mathjaxEditor,t=this.$editorDisplay;c(t,"Mathjax_KeyboardDisplay"),a.initialize(t),e.on("change",function(){a.update(t)}),t.addEventListener("scroll",function(){editor.core.update()})}},{key:"showKeyboard",value:function(){this.isVisible||(this.isVisible=!0,this.$container.style.display="block",this.mathjaxEditor.focus(),this.render())}},{key:"hideKeyboard",value:function(){this.isVisible=!1,this.mathjaxEditor.blur(),this.$container.style.display="none",this.appendEditorNextToTargetElement()}},{key:"handleDocumentClick",value:function(e){var t=this.$container,n=this.$editorContainer,r=e.target;if(0===e.button)return this.isMobile&&r===t?this.hideKeyboard():f(r,n)?this.showKeyboard():f(r,t)||b(r,"Mathjax_KeyboardKey")?void 0:this.hideKeyboard()}},{key:"nextPage",value:function(){var e=s.getPagesLength(),t=void 0;t=this.pageIndex===e-1?0:this.pageIndex+1,this.pageIndex=t,this.render()}},{key:"previousPage",value:function(){var e=s.getPagesLength(),t=void 0;t=0===this.pageIndex?e-1:this.pageIndex-1,this.pageIndex=t,this.render()}},{key:"destroy",value:function(){document.body.removeChild(this.$container)}}]),e}());e.exports=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(7),a=n(12),s=n(13),l=n(8),c=n(5),u=c.addClass,d=c.insertBetween,h=c.inArray,p=c.mustFindElement,f=c.removeClass,b=c.removeFragment,m=c.repeat,v=l.supOrSub,g=function(){function e(t){var n=this;r(this,e);var i=t.el,a=t.debug,l=void 0!==a&&a,c=t.focusClass,u=void 0===c?"isFocused":c,d=t.newLine,h=void 0!==d&&d,f=t.value,b=void 0===f?"":f,m=t.scroll,v=void 0!==m&&m,g=MathJax.HTML.Element,y=p(i,"textarea"),x=g("div",{className:"Mathjax_Editor"}),k=g("input",{className:"Mathjax_EditorInput"}),C=g("div",{className:"Mathjax_EditorDisplay"},["\\({\\cursor}"+b+"\\)"]),w=g("pre",{className:"Mathjax_EditorDebug"},["|"]),E=g("div",{className:"Mathjax_EditorCursor"});y.parentNode.insertBefore(x,y.nextSibling),x.appendChild(k),x.appendChild(C),x.appendChild(w),x.appendChild(E),k.addEventListener("keydown",this.handleInputEvent.bind(this)),k.addEventListener("keyup",this.handleInputEvent.bind(this)),k.addEventListener("blur",this.blur.bind(this)),C.addEventListener("click",this.focus.bind(this)),C.addEventListener("mouseenter",this.handleMouseEnter.bind(this)),C.addEventListener("mouseleave",this.handleMouseLeave.bind(this)),document.body.addEventListener("click",this.handleBodyClick.bind(this)),C.style.opacity=0,C.style.overflowX=v?"scroll":"hidden",w.style.display=l?"block":"none",y.style.display="none",MathJax.Hub.Queue(function(){return MathJax.Hub.Typeset(C)},function(){return n.jaxElement=MathJax.Hub.getAllJax(C)[0]},function(){C.style.opacity=1,C.style.minHeight=C.offsetHeight+"px",n.update({cursorHidden:!0})}),this.$container=x,this.$cursor=E,this.$debug=w,this.$display=C,this.$input=k,this.$el=y,this.bus=new o,this.cursorIndex=0,this.lastCursorTimeout=null,this.placer=null,this.debug=l,this.focusClass=u,this.newLine=h,this.tex=new s(b,0),this.value=b,this.mouseAtDisplay=!1,this.textAlignment="left",this.getDisplayAlignment()}return i(e,[{key:"update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.cursorIndex,r=this.value,i=new s(r,n);this.tex=i,this.debug&&(this.$debug.innerHTML=d(r,n,"|")),this.updateJaxElement(i.displayTex,function(){setTimeout(function(){var t=new a(e);t.on("setCursor",function(t){e.debug&&console.info("The cursor should be placed at "+t+"."),e.cursorIndex=t,e.update()}),e.placer=t},16),e.updateCursorElement(t)})}},{key:"updateJaxElement",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Function;MathJax.Hub.Queue(function(){return t.jaxElement.Text(e)},n)}},{key:"updateCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.cursorIndex,n=this.tex.cursorPoints,r=n.indexOf(t),i=t;e>0?i=n[r+1]:e<0&&(i=n[r-1]),this.cursorIndex=i,this.update()}},{key:"updateCursorElement",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.$display,r=this.$cursor,i=t.cursorHidden||!1;r.style.display=i?"none":"inline-block",this.lastCursorTimeout&&clearTimeout(this.lastCursorTimeout),u(r,"wasRecentlyPlaced"),this.lastCursorTimeout=setTimeout(function(){return f(r,"wasRecentlyPlaced")},400),MathJax.Hub.Queue(function(){var t=n.querySelector(".mjx-cursor");if(t){var i=t.getBoundingClientRect(),o=i.left,a=i.right,s=i.top,l=i.bottom,c=o;switch(e.textAlignment){case"center":c=o+(a-o)/2;break;case"right":c=a}r.style.left=c+"px",r.style.top=s+"px",r.style.height=l-s+"px",n.scrollLeft=o,t.parentNode.removeChild(t)}})}},{key:"getDisplayAlignment",value:function(){var e=window.getComputedStyle(this.$display);this.textAlignment=e.getPropertyValue("text-align")||"left"}},{key:"setValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.value=e,t&&(this.cursorIndex=0),this.$el.innerHTML=e,this.update(),this.bus.trigger("change")}},{key:"handleInputEvent",value:function(e){var t=this,n=this.$input,r=l.number,i=l.variable,o=l.charToCommand,a=l.operators,s=l.escapedOperators,c=n.value.trim(),u=e.keyCode;if(n.value="","keyup"===e.type&&(u=null),!c.length)return this.handleKeyPress(u);c.split("").forEach(function(e){return e.match(r)||e.match(i)?t.insert(e):o.hasOwnProperty(e)?t.insertCommand(o[e]):h(e,a.concat(s))?t.insertSymbol(e):void 0})}},{key:"handleKeyPress",value:function(e){switch(e){case 37:return void this.moveCursorLeft();case 39:return void this.moveCursorRight();case 8:return void this.erase();case 46:return void this.delete();case 13:return void(this.newLine&&this.insert("\\\\"))}e&&this.debug&&console.warn("The key "+e+" was pressed.")}},{key:"moveCursorLeft",value:function(){this.cursorIndex>0&&this.updateCursor(-1)}},{key:"moveCursorRight",value:function(){this.cursorIndex<this.value.length&&this.updateCursor(1)}},{key:"handleBodyClick",value:function(e){this.placer&&this.placer.trigger("click",e)}},{key:"focus",value:function(){this.$input.focus(),this.updateCursorElement({cursorHidden:!1}),this.bus.trigger("focus"),u(this.$display,this.focusClass)}},{key:"blur",value:function(){this.mouseAtDisplay||(this.$input.blur(),this.updateCursorElement({cursorHidden:!0}),this.bus.trigger("blur"),f(this.$display,this.focusClass))}},{key:"handleMouseEnter",value:function(){this.mouseAtDisplay=!0}},{key:"handleMouseLeave",value:function(){this.mouseAtDisplay=!1}},{key:"insert",value:function(e){var t=this.cursorIndex,n=this.value;this.cursorIndex+=e.length,this.setValue(d(n,t,e)),this.update()}},{key:"insertChar",value:function(e){var t=l.number,n=l.variable;if(1!==e.length)throw new RangeError("Only one char can be inserted through this method.");if(!e.match(t)&&!e.match(n))throw new RangeError('Only numbers and variables are allowed in insert, not "'+e+'".');this.insert(e)}},{key:"insertSymbol",value:function(e){var t=l.operators,n=l.escapedOperators;if(!h(e,t.slice().concat(n)))throw new RangeError('"'+e+'" is not a valid symbol.');h(e,n)&&(e="\\"+e),this.insert(e)}},{key:"insertCommand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.focus(),"\\"===e[0]||h(e,v)||(e="\\"+e),n&&(e+="[]"),e+=t>0?"{":" ",this.insert(e),!(t<1)){var r=this.value,i=this.cursorIndex,o="}"+m("{}",t-1);this.setValue(d(r,i,o)),this.update()}}},{key:"applyDeletion",value:function(e){var t=this.cursorIndex,n=this.tex,r=t-1,i=n.elements,o=null,a=null,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0;switch(e){case"erase":if(0===t)return;s=r,l="end",c="openIndex",u=r,d=t;break;case"delete":if(t===n.length)return;s=t,l="start",c="closeIndex",u=t,d=t+1;break;default:throw new RangeError('Unknown method "'+e+'".')}if(n.newLines[s]){var h=n.newLines[s];o=h.start,a=h.end+1}else{var p=!0,f=!1,m=void 0;try{for(var v,g=i[Symbol.iterator]();!(p=(v=g.next()).done);p=!0){var y=v.value,x=y.index,k=y.props;if(k){var C=k.brackets;if(k[l]===s||C&&C[c]===s){o=k.start,a=k.end+1;break}if(!k.blocks)continue;var w=!0,E=!1,S=void 0;try{for(var T,A=k.blocks[Symbol.iterator]();!(w=(T=A.next()).done);w=!0){if(T.value[c]===s){o=k.start,a=k.end+1;break}}}catch(e){E=!0,S=e}finally{try{!w&&A.return&&A.return()}finally{if(E)throw S}}}else if(x===s){o=u,a=d;break}}}catch(e){f=!0,m=e}finally{try{!p&&g.return&&g.return()}finally{if(f)throw m}}}this.cursorIndex=o,this.setValue(b(this.value,o,a)),this.update()}},{key:"erase",value:function(){this.applyDeletion("erase")}},{key:"delete",value:function(){this.applyDeletion("delete")}},{key:"on",value:function(e,t){this.bus.on(e,t)}}]),e}();e.exports=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(10),a=n(14),s=n(5),l=s.repeat;window.addEventListener("load",a);var c=function(){function e(t){r(this,e);var n=new o(t);this.core=n,this.version="1.3.8"}return i(e,[{key:"blur",value:function(){this.core.blur()}},{key:"focus",value:function(){this.core.focus()}},{key:"insertCommand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.core.insertCommand(e,t,n)}},{key:"insert",value:function(e){this.core.insert(e)}},{key:"insertSymbol",value:function(e){this.core.insertSymbol(e)}},{key:"getValue",value:function(){return this.core.value}},{key:"setValue",value:function(e){this.core.setValue(e,!0)}},{key:"moveCursorLeft",value:function(){this.core.moveCursorLeft()}},{key:"moveCursorRight",value:function(){this.core.moveCursorRight()}},{key:"insertMatrix",value:function(e,t){for(var n=l("&",e-1),r=t-1,i="\\begin{bmatrix}"+n,o=0;o<r;o++)i+="\\\\"+n;i+="\\end{bmatrix}",this.core.insert(i)}},{key:"erase",value:function(){this.core.erase()}},{key:"on",value:function(e,t){this.core.on(e,t)}}]),e}();e.exports=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(7),a=[],s=function(){function e(t){r(this,e);var n=new o;n.on("click",this.handleClick.bind(this)),this.$display=t.$display,this.bus=n,this.intervals=[],this.elements=t.tex.elements,this.findings={},this.tex=t.tex,this.iterate()}return i(e,[{key:"on",value:function(e,t){this.bus.on(e,t)}},{key:"trigger",value:function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this.bus).trigger.apply(t,[e].concat(r))}},{key:"handleClick",value:function(e){var t=this,n=this.$display.getBoundingClientRect(),r=n.top,i=n.bottom,o=e.clientX,a=e.clientY,s=this.intervals,l=this.tex.length;if(!s.length||a>i||a<r)return!1;var c=!1,u=!0;if(s.forEach(function(e,n){e.startX<=o&&o<e.endX&&u&&e.startY<=a&&a<e.endY&&(c=!0,l=t.placeAtInterval(e,n,o),e.box&&(u=!1))}),!c){var d={interval:null,distance:null,i:null};if(s.forEach(function(e,t){if(e.startY<a&&a<e.endY){var n=Math.min(Math.abs(e.startX-o),Math.abs(e.endX-o));(null===d.distance||n<d.distance)&&(d.interval=e,d.distance=n,d.i=t)}}),!d.interval)return!1;l=this.placeAtInterval(d.interval,d.i,o,a)}this.bus.trigger("setCursor",l)}},{key:"getNextKeyFor",value:function(e){this.findings[e]=this.findings[e]||0;var t=this.findings[e];return this.findings[e]+=1,t}},{key:"addIntervalAt",value:function(e,t){this.intervals.splice(e,0,t)}},{key:"addInterval",value:function(e){Number.isNaN(e.index)&&console.error("An interval has NaN as index."),this.intervals.push(e)}},{key:"addIntervalBox",value:function(e,t){var n=t.top,r=t.bottom,i=t.left,o=t.right;this.addInterval({index:e,startX:i,endX:o,startY:n,endY:r,box:!0})}},{key:"addBouncinglessInterval",value:function(e){this.addInterval({index:e,top:0,bottom:0,left:0,right:0})}},{key:"placeAtInterval",value:function(e,t,n){var r=this.intervals,i=e.endX-e.startX,o=t+1,a=e.index;return e.box?a:(n>e.startX+i/2&&(a=r[o]?r[o].index:this.tex.length),a)}},{key:"iterate",value:function(){var e=this;this.elements.forEach(function(t){switch(t.is){case"command":e.findCommand(t);break;case"eol":e.findEndOfLine(t);break;case"begin":e.findBegin(t);break;case"end":break;case"skip":e.skip(t);break;default:e.find(t)}})}},{key:"find",value:function(e){var t=e.type,n=e.index,r=e.nearClosure,i=this.getNextKeyFor(t),o=this.$display.querySelectorAll(".mjx-"+t)[i];if(!o)return console.warn("Could not find an element of type "+t+".",n);var a=o.getBoundingClientRect(),s=a.left,l=a.right,c=a.top,u=a.bottom;this.addInterval({startX:s,endX:l,startY:c,endY:u,index:n}),r&&this.addBouncinglessInterval(n+1)}},{key:"findCommand",value:function(e){var t=this,n=e.type,r=e.props,i=this.getNextKeyFor(n),o=this.$display.querySelectorAll(".mjx-m"+n)[i],a=r.brackets,s=r.blocks,l=r.subType;switch(this.addBouncinglessInterval(r.start),n){case"frac":var c=o.querySelector(".mjx-numerator"),u=o.querySelector(".mjx-denominator");[c.getBoundingClientRect(),u.getBoundingClientRect()].forEach(function(e,n){1===s[n].length&&t.addIntervalBox(s[n].closeIndex,e)});break;case"root":case"sqrt":if(a&&a.closeIndex-a.openIndex==1){var d=o.querySelector(".mjx-root .mjx-char"),h=d.getBoundingClientRect();this.addIntervalBox(a.closeIndex,h)}if(1===s[0].length){var p=o.querySelector(".mjx-box"),f=p.getBoundingClientRect();this.addIntervalBox(s[0].closeIndex,f)}break;case"subsup":if(1===s[0].length){var b=o.querySelector(".mjx-"+l),m=b.getBoundingClientRect();this.addIntervalBox(s[0].closeIndex,m)}}}},{key:"findEndOfLine",value:function(e){var t=e.type,n=e.index,r=this.getNextKeyFor(t),i=this.$display.querySelectorAll(".mjx-"+t)[r];i||(i=this.$display.querySelector(".mjx-math"));var o=i.firstChild,a=o.getBoundingClientRect(),s=a.top,l=a.left,c=a.bottom,u=a.right,d=this.findLastStartOfLineIndex();this.addIntervalAt(d.intervalKey,{index:d.start,startX:l-20,endX:l,startY:s,endY:c,box:!0}),this.addInterval({index:n,startX:u,endX:u+20,startY:s,endY:c,box:!0})}},{key:"findBegin",value:function(e){var t=this,n=e.type,r=e.props,i=this.getNextKeyFor(n),o=this.$display.querySelectorAll(".mjx-mtable")[i],a=o.querySelectorAll(".mjx-isEmpty"),s=0;r.cells.forEach(function(e){var n=e.end-e.start;if(0===n||1===n){var r=a[s++],i=r.getBoundingClientRect();t.addIntervalBox(e.start,i)}})}},{key:"skip",value:function(e){var t=e.type;this.getNextKeyFor(t)}},{key:"findLastStartOfLineIndex",value:function(){for(var e=this.intervals.slice().reverse(),t=e.length,n=0,r=0,i=0;n<t;n++){var o=e[n];if("eol"===o.is){r=o.index+2,i=n;break}}return{start:r,intervalKey:i}}},{key:"paint",value:function(e){var t=document.createElement("div");return t.style.position="absolute",
t.style.backgroundColor="rgba(0, 0, 255, 0.5)",t.style.width=e.endX-e.startX+"px",t.style.height=e.endY-e.startY+"px",t.style.top=e.startY+"px",t.style.left=e.startX+"px",t.style.pointerEvents="none",document.body.appendChild(t),t}},{key:"paintIntervals",value:function(){var e=this;a.forEach(function(e){return document.body.removeChild(e)}),a=[],this.intervals.forEach(function(t){a.push(e.paint(t))}),console.log(this.intervals)}}]),e}();e.exports=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(5),a=o.inArray,s=o.listToCharacterRegex,l=n(8),c=l.nearClosureHaystack,u=l.supOrSub,d=l.cursorTex,h=l.emptyTex,p=l.escType,f=l.spacingTex,b=l.relationCommands,m={isNumber:l.number,isVariable:l.variable,isOperator:s(l.operators),isEscapedOperator:s(l.escapedOperators)},v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,e),this.tex=t,this.cursorPoints=[],this.elements=[],this.newLines={},this.length=t.length,this.displayTex="",this.cursorIndex=n,this.isPartOfCommand={},this.parse()}return i(e,[{key:"addCursorToTexDisplay",value:function(e){this.cursorPlaced||this.cursorIndex!==e&&0!==this.length&&e!==this.length||(this.cursorPlaced=!0,this.displayTex+=d)}},{key:"parse",value:function(){var e=[],t=this.tex,n=this.tex.length,r=0,i=!1,o=null;for(this.cursorPlaced=!1;r<n;r++){var s=r,l=r+1,d=t[s],b=t[l],v=t[s-1],g=a(b,c),y=","===d,x=a(d,["<",">"]),k=m.isNumber.exec(d),C=m.isVariable.exec(d),w=m.isOperator.exec(d),E=m.isEscapedOperator.exec(b),S="\\"===d&&this.isRelationCommand(s),T=y||k||x;if(this.addCursorToTexDisplay(s),(T||S)&&(this.displayTex+="{"),"}"===d&&"\\"!==v&&(this.isPartOfCommandThatStartsWith(s,u)||(this.displayTex+=f)),this.displayTex+=d,T&&(this.displayTex+="}"),k&&this.elements.push({is:"number",type:"mn",index:s,nearClosure:g}),C&&this.elements.push({is:"variable",type:"mi",index:s,nearClosure:g}),w&&!this.isPartOfCommand.hasOwnProperty(s)&&this.elements.push({is:"operator",type:"mo",index:s,nearClosure:g}),"\\"===d&&E){var A=p[b]?p[b]:"mo";this.elements.push({is:"operator",type:A,index:s,nearClosure:g,props:{start:s,end:l}}),this.displayTex+=b,r+=1}if("\\"===d&&"\\"===b){if(!i){var I={start:s,end:l};this.newLines[s]=I,this.newLines[l]=I,this.elements.push({is:"eol",type:"block",index:s})}this.displayTex+="\\",r+=1,i&&"&"===t[r+1]&&(this.displayTex+=h)}if("\\"===d&&m.isVariable.exec(b)){var M=this.parseCommand(r),R=M.continueIterationAt,X=M.element;switch(X.is){case"begin":i=!0,o=X,this.findAhead(X.props.end,"}&")&&(this.displayTex+=h);break;case"end":i=!1,this.parseBegin(o,X),o=null}r=R}a(d,u)&&(r=this.parseCommand(r).continueIterationAt),"{"!==d?" "!==d&&("&"===d&&(this.findAhead(r+1,"\\end")||"&"===b||this.findAhead(r+1,"\\\\"))&&(this.displayTex+=h),e.push(s)):"}"===b?(this.addCursorToTexDisplay(l),this.displayTex+=h):this.isPartOfCommandThatStartsWith(s,u)||i||(this.displayTex+=f)}n&&this.elements.push({is:"eol",type:"block",index:n}),this.addCursorToTexDisplay(n),e.push(n),this.cursorPoints=e}},{key:"parseCommand",value:function(e){var t=e,n=this.tex,r=this.tex.length,i=n[t],o={firstChar:i},s=null,l=[],d=null,p=0,v="",g=null,y="command",x=t,k=null,C=!1,w=null,E="";switch(i){case"^":v="subsup",g="sup";break;case"_":v="subsup",g="sub"}for(e=t;e<r;e++){var S=n[e],T=e+1,A=n[T],I=m.isVariable.exec(S);if(null===s&&(this.displayTex+=a(S,["\\","^","_"])?"":S,I&&(v+=S)),"["===S&&(d={openIndex:e},null===s&&(s=e,w=s),"]"===A&&(this.displayTex+=h)),"]"===S&&(d.closeIndex=e,this.isPartOfCommand[e]=o),"{"===S?(0===p&&(l.push({openIndex:e}),this.isPartOfCommand[e]=o),null===s&&(s=e,w=s,a(i,u)||a(v,["begin","end"])||(this.displayTex+=f),this.addCursorToTexDisplay(T),"}"===A&&(this.displayTex+=h)),p+=1):p>0&&"}"!==S&&(E+=S),"}"===S&&0===(p-=1)){var M=l.length-1;l[M].closeIndex=e,l[M].contents=E,l[M].length=e-l[M].openIndex,E="",this.isPartOfCommand[e]=o}if(null===s&&" "===S){var R=a(v,b);v=this.decideType(v),y="mo"===v?"operator":"variable",k=e,s=e,w=s,a(A,c)&&(C=!0),R&&(this.displayTex+="}");break}if("}"===S&&"{"!==A&&0===p){k=e;break}}if("sqrt"===v&&null!==d&&(v="root"),null===s)throw new SyntaxError("Looks like this TeX is invalid. Now have a hard time finding where, lul.");if(a(v,["begin","end"])&&(y=v,v=l[0].contents,w=k,this.displayTex+=v+"}","end"===v))return{continueIterationAt:w,element:{is:"end"}};var X={is:y,type:v,index:t,nearClosure:C,props:{subType:g,start:x,end:k,opening:s,blocks:l,brackets:d}};return"begin"===y&&this.elements.push({is:"skip",type:"mo"}),this.elements.push(X),"end"===y&&this.elements.push({is:"skip",type:"mo"}),{continueIterationAt:w,element:X}}},{key:"decideType",value:function(e){var t={alpha:"mi",beta:"mi",gamma:"mi",Gamma:"mi",delta:"mi",Delta:"mi",epsilon:"mi",varepsilon:"mi",zeta:"mi",eta:"mi",theta:"mi",vartheta:"mi",Theta:"mi",iota:"mi",kappa:"mi",lambda:"mi",mu:"mi",nu:"mi",xi:"mi",Xi:"mi",pi:"mi",Pi:"mi",rho:"mi",varrho:"mi",sigma:"mi",Sigma:"mi",tau:"mi",upsilon:"mi",Upsilon:"mi",phi:"mi",varphi:"mi",Phi:"mi",chi:"mi",psi:"mi",Psi:"mi",omega:"mi",Omega:"mi","%":"mi"};return t.hasOwnProperty(e)?t[e]:"mo"}},{key:"isPartOfCommandThatStartsWith",value:function(e,t){var n=this.isPartOfCommand[e];return!!n&&a(n.firstChar,t)}},{key:"isRelationCommand",value:function(e){var t=this.tex,n=t.length;if("\\"===t[e]){for(var r=e+1,i="";r<n;r++){var o=t[r];if(!m.isVariable.exec(o)&&" "!==o)return!1;if(" "===o)return a(i,b);i+=o}return!1}}},{key:"parseBegin",value:function(e,t){for(var n=this.tex,r=t.index+1,i=[],o=e.props.end+1,a=0,s=o,l=null;o<r;o++){var c=n[o],u=n[o+1],d="\\"===c&&"\\"===u,h=o===r-1;"{"===c&&(a+=1),"}"===c&&(a-=1),0===a&&("&"===c||d||h)&&(l=o+(h?1:0),i.push({start:s,end:l}),s=o+1+(d?1:0))}e.props.cells=i}},{key:"findAhead",value:function(e,t){for(var n=this.tex,r=t.length,i=e+r,o=e;o<i;o++)if(n[o]!==t[o-e])return!1;return!0}}]),e}();e.exports=v},function(e,t,n){"use strict";var r=n(15);e.exports=function(){var e=MathJax.InputJax.TeX,t=MathJax.ElementJax.mml;MathJax.Hub.processSectionDelay=0,MathJax.Hub.Register.StartupHook("TeX Jax Ready",function(){var n={mathvariant:t.INHERIT,mathsize:t.INHERIT,mathbackground:t.INHERIT,mathcolor:t.INHERIT,dir:t.INHERIT};e.Definitions.Add({macros:{cursor:"Cursor",isEmpty:"IsEmpty"}},null,!0),t.mcursor=t.mbase.Subclass({type:"cursor",isToken:!0,isSpacelike:function(){return!0},texClass:t.TEXCLASS.ORD,defaults:n}),t.misEmpty=t.mbase.Subclass({type:"isEmpty",isToken:!0,isSpacelike:function(){return!0},texClass:t.TEXCLASS.ORD,defaults:n}),e.Parse.Augment({Cursor:function(){var e=t.mcursor("0");this.Push(e)},IsEmpty:function(){var e=t.misEmpty("?");this.Push(e)}})}),MathJax.Ajax.Styles(r)}},function(e,t,n){"use strict";var r="from, to { opacity: 1 }\n 50% { opacity: 0 }";e.exports={".Mathjax_Editor":{"-moz-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"},".Mathjax_EditorCursor.wasRecentlyPlaced":{animation:"none !important",opacity:"1 !important"},".Mathjax_EditorInput":{left:"-100%",position:"absolute",top:"-100%"},".Mathjax_EditorDisplay":{"box-sizing":"border-box",cursor:"text","overflow-Y":"overflow"},".Mathjax_EditorDisplay *":{outline:"none"},".Mathjax_EditorCursor":{"-webkit-animation":"1s Mathjax_EditorCursorBlink step-end infinite","-moz-animation":"1s Mathjax_EditorCursorBlink step-end infinite","-ms-animation":"1s Mathjax_EditorCursorBlink step-end infinite","-o-animation":"1s Mathjax_EditorCursorBlink step-end infinite",animation:"1s Mathjax_EditorCursorBlink step-end infinite","background-color":"#000",position:"absolute",width:"2px"},".mjx-isEmpty":{color:"#ccc"},"@keyframes Mathjax_EditorCursorBlink":r,"@-moz-keyframes Mathjax_EditorCursorBlink":r,"@-webkit-keyframes Mathjax_EditorCursorBlink":r,"@-ms-keyframes Mathjax_EditorCursorBlink":r,"@-o-keyframes Mathjax_EditorCursorBlink":r}},function(e,t,n){"use strict";e.exports=n(19)},function(e,t,n){"use strict";var r=function(e){this.element=e,this.events={}};r.prototype.bind=function(e,t){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},r.prototype.unbind=function(e,t){var n=void 0!==t;this.events[e]=this.events[e].filter(function(r){return!(!n||r===t)||(this.element.removeEventListener(e,r,!1),!1)},this)},r.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var i=function(){this.eventElements=[]};i.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return void 0===t&&(t=new r(e),this.eventElements.push(t)),t},i.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},i.prototype.unbind=function(e,t,n){this.eventElement(e).unbind(t,n)},i.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},i.prototype.once=function(e,t,n){var r=this.eventElement(e),i=function e(i){r.unbind(t,e),n(i)};r.bind(t,i)},e.exports=i},function(e,t,n){"use strict";e.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},function(e,t,n){"use strict";var r=n(21),i=n(29),o=n(30);e.exports={initialize:i,update:o,destroy:r}},function(e,t,n){"use strict";e.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},function(e,t,n){"use strict";var r=n(1),i=n(4),o=n(0);e.exports=function(e){var t=o.get(e);t&&(t.event.unbindAll(),i.remove(t.scrollbarX),i.remove(t.scrollbarY),i.remove(t.scrollbarXRail),i.remove(t.scrollbarYRail),r.removePsClasses(e),o.remove(e))}},function(e,t,n){"use strict";function r(e,t){function n(e){return e.getBoundingClientRect()}var r=function(e){e.stopPropagation()};t.event.bind(t.scrollbarY,"click",r),t.event.bind(t.scrollbarYRail,"click",function(r){var i=r.pageY-window.pageYOffset-n(t.scrollbarYRail).top,s=i>t.scrollbarYTop?1:-1;a(e,"top",e.scrollTop+s*t.containerHeight),o(e),r.stopPropagation()}),t.event.bind(t.scrollbarX,"click",r),t.event.bind(t.scrollbarXRail,"click",function(r){var i=r.pageX-window.pageXOffset-n(t.scrollbarXRail).left,s=i>t.scrollbarXLeft?1:-1;a(e,"left",e.scrollLeft+s*t.containerWidth),o(e),r.stopPropagation()})}var i=n(0),o=n(2),a=n(3);e.exports=function(e){r(e,i.get(e))}},function(e,t,n){"use strict";function r(e,t){function n(n){var i=r+n*t.railXRatio,a=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);t.scrollbarXLeft=i<0?0:i>a?a:i,c(e,"left",o.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment)}var r=null,i=null,s=function(t){n(t.pageX-i),l(e),t.stopPropagation(),t.preventDefault()},u=function(){o.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",s)};t.event.bind(t.scrollbarX,"mousedown",function(n){i=n.pageX,r=o.toInt(a.css(t.scrollbarX,"left"))*t.railXRatio,o.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",s),t.event.once(t.ownerDocument,"mouseup",u),n.stopPropagation(),n.preventDefault()})}function i(e,t){function n(n){var i=r+n*t.railYRatio,a=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);t.scrollbarYTop=i<0?0:i>a?a:i,c(e,"top",o.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight)))}var r=null,i=null,s=function(t){n(t.pageY-i),l(e),t.stopPropagation(),t.preventDefault()},u=function(){o.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",s)};t.event.bind(t.scrollbarY,"mousedown",function(n){i=n.pageY,r=o.toInt(a.css(t.scrollbarY,"top"))*t.railYRatio,o.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",s),t.event.once(t.ownerDocument,"mouseup",u),n.stopPropagation(),n.preventDefault()})}var o=n(1),a=n(4),s=n(0),l=n(2),c=n(3);e.exports=function(e){var t=s.get(e);r(e,t),i(e,t)}},function(e,t,n){"use strict";function r(e,t){function n(n,r){var i=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&r<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}var r=!1;t.event.bind(e,"mouseenter",function(){r=!0}),t.event.bind(e,"mouseleave",function(){r=!1});var a=!1;t.event.bind(t.ownerDocument,"keydown",function(c){if(!(c.isDefaultPrevented&&c.isDefaultPrevented()||c.defaultPrevented)){var u=o.matches(t.scrollbarX,":focus")||o.matches(t.scrollbarY,":focus");if(r||u){var d=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(d){if("IFRAME"===d.tagName)d=d.contentDocument.activeElement;else for(;d.shadowRoot;)d=d.shadowRoot.activeElement;if(i.isEditable(d))return}var h=0,p=0;switch(c.which){case 37:h=c.metaKey?-t.contentWidth:c.altKey?-t.containerWidth:-30;break;case 38:p=c.metaKey?t.contentHeight:c.altKey?t.containerHeight:30;break;case 39:h=c.metaKey?t.contentWidth:c.altKey?t.containerWidth:30;break;case 40:p=c.metaKey?-t.contentHeight:c.altKey?-t.containerHeight:-30;break;case 33:p=90;break;case 32:p=c.shiftKey?90:-90;break;case 34:p=-90;break;case 35:p=c.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:p=c.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}l(e,"top",e.scrollTop-p),l(e,"left",e.scrollLeft+h),s(e),a=n(h,p),a&&c.preventDefault()}}})}var i=n(1),o=n(4),a=n(0),s=n(2),l=n(3);e.exports=function(e){r(e,a.get(e))}},function(e,t,n){"use strict";function r(e,t){function n(n,r){var i=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&r<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}function r(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!==t&&n!==n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}function i(t,n){var r=e.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(r){if(!window.getComputedStyle(r).overflow.match(/(scroll|auto)/))return!1;var i=r.scrollHeight-r.clientHeight;if(i>0&&!(0===r.scrollTop&&n>0||r.scrollTop===i&&n<0))return!0;var o=r.scrollLeft-r.clientWidth;if(o>0&&!(0===r.scrollLeft&&t<0||r.scrollLeft===o&&t>0))return!0}return!1}function s(s){var c=r(s),u=c[0],d=c[1];i(u,d)||(l=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(d?a(e,"top",e.scrollTop-d*t.settings.wheelSpeed):a(e,"top",e.scrollTop+u*t.settings.wheelSpeed),l=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(u?a(e,"left",e.scrollLeft+u*t.settings.wheelSpeed):a(e,"left",e.scrollLeft-d*t.settings.wheelSpeed),l=!0):(a(e,"top",e.scrollTop-d*t.settings.wheelSpeed),a(e,"left",e.scrollLeft+u*t.settings.wheelSpeed)),o(e),(l=l||n(u,d))&&(s.stopPropagation(),s.preventDefault()))}var l=!1;void 0!==window.onwheel?t.event.bind(e,"wheel",s):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",s)}var i=n(0),o=n(2),a=n(3);e.exports=function(e){r(e,i.get(e))}},function(e,t,n){"use strict";function r(e,t){t.event.bind(e,"scroll",function(){o(e)})}var i=n(0),o=n(2);e.exports=function(e){r(e,i.get(e))}},function(e,t,n){"use strict";function r(e,t){function n(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}function r(){c||(c=setInterval(function(){if(!o.get(e))return void clearInterval(c);s(e,"top",e.scrollTop+u.top),s(e,"left",e.scrollLeft+u.left),a(e)},50))}function l(){c&&(clearInterval(c),c=null),i.stopScrolling(e)}var c=null,u={top:0,left:0},d=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){e.contains(n())?d=!0:(d=!1,l())}),t.event.bind(window,"mouseup",function(){d&&(d=!1,l())}),t.event.bind(window,"keyup",function(){d&&(d=!1,l())}),t.event.bind(window,"mousemove",function(t){if(d){var n={x:t.pageX,y:t.pageY},o={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};n.x<o.left+3?(u.left=-5,i.startScrolling(e,"x")):n.x>o.right-3?(u.left=5,i.startScrolling(e,"x")):u.left=0,n.y<o.top+3?(o.top+3-n.y<5?u.top=-5:u.top=-20,i.startScrolling(e,"y")):n.y>o.bottom-3?(n.y-o.bottom+3<5?u.top=5:u.top=20,i.startScrolling(e,"y")):u.top=0,0===u.top&&0===u.left?l():r()}})}var i=n(1),o=n(0),a=n(2),s=n(3);e.exports=function(e){r(e,o.get(e))}},function(e,t,n){"use strict";function r(e,t,n,r){function i(n,r){var i=e.scrollTop,o=e.scrollLeft,a=Math.abs(n),s=Math.abs(r);if(s>a){if(r<0&&i===t.contentHeight-t.containerHeight||r>0&&0===i)return!t.settings.swipePropagation}else if(a>s&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!t.settings.swipePropagation;return!0}function l(t,n){s(e,"top",e.scrollTop-n),s(e,"left",e.scrollLeft-t),a(e)}function c(){x=!0}function u(){x=!1}function d(e){return e.targetTouches?e.targetTouches[0]:e}function h(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function p(e){if(h(e)){k=!0;var t=d(e);m.pageX=t.pageX,m.pageY=t.pageY,v=(new Date).getTime(),null!==y&&clearInterval(y),e.stopPropagation()}}function f(e){if(!k&&t.settings.swipePropagation&&p(e),!x&&k&&h(e)){var n=d(e),r={pageX:n.pageX,pageY:n.pageY},o=r.pageX-m.pageX,a=r.pageY-m.pageY;l(o,a),m=r;var s=(new Date).getTime(),c=s-v;c>0&&(g.x=o/c,g.y=a/c,v=s),i(o,a)&&(e.stopPropagation(),e.preventDefault())}}function b(){!x&&k&&(k=!1,clearInterval(y),y=setInterval(function(){return o.get(e)&&(g.x||g.y)?Math.abs(g.x)<.01&&Math.abs(g.y)<.01?void clearInterval(y):(l(30*g.x,30*g.y),g.x*=.8,void(g.y*=.8)):void clearInterval(y)},10))}var m={},v=0,g={},y=null,x=!1,k=!1;n?(t.event.bind(window,"touchstart",c),t.event.bind(window,"touchend",u),t.event.bind(e,"touchstart",p),t.event.bind(e,"touchmove",f),t.event.bind(e,"touchend",b)):r&&(window.PointerEvent?(t.event.bind(window,"pointerdown",c),t.event.bind(window,"pointerup",u),t.event.bind(e,"pointerdown",p),t.event.bind(e,"pointermove",f),t.event.bind(e,"pointerup",b)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",c),t.event.bind(window,"MSPointerUp",u),t.event.bind(e,"MSPointerDown",p),t.event.bind(e,"MSPointerMove",f),t.event.bind(e,"MSPointerUp",b)))}var i=n(1),o=n(0),a=n(2),s=n(3);e.exports=function(e){if(i.env.supportsTouch||i.env.supportsIePointer){r(e,o.get(e),i.env.supportsTouch,i.env.supportsIePointer)}}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),o=n(6),a=n(0),s=n(2),l={"click-rail":n(22),"drag-scrollbar":n(23),keyboard:n(24),wheel:n(25),touch:n(28),selection:n(27)},c=n(26);e.exports=function(e,t){t="object"===(void 0===t?"undefined":r(t))?t:{},o.add(e,"ps-container");var n=a.add(e);n.settings=i.extend(n.settings,t),o.add(e,"ps-theme-"+n.settings.theme),n.settings.handlers.forEach(function(t){l[t](e)}),c(e),s(e)}},function(e,t,n){"use strict";var r=n(1),i=n(4),o=n(0),a=n(2),s=n(3);e.exports=function(e){var t=o.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,i.css(t.scrollbarXRail,"display","block"),i.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=r.toInt(i.css(t.scrollbarXRail,"marginLeft"))+r.toInt(i.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=r.toInt(i.css(t.scrollbarYRail,"marginTop"))+r.toInt(i.css(t.scrollbarYRail,"marginBottom")),i.css(t.scrollbarXRail,"display","none"),i.css(t.scrollbarYRail,"display","none"),a(e),s(e,"top",e.scrollTop),s(e,"left",e.scrollLeft),i.css(t.scrollbarXRail,"display",""),i.css(t.scrollbarYRail,"display",""))}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.key=t}return i(e,[{key:"getLabel",value:function(){return this.key.label?"\\("+this.key.label+"\\)":'<i class="Mathjax_KeyboardIcon Mathjax_KeyboardIcon_'+this.key.$label+'"></i>'}},{key:"getClickListener",value:function(){return this.key.onClick}},{key:"exists",value:function(){return!!this.key}}]),e}();e.exports=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(31),a=n(33),s=a.pages,l=a.controlKeys,c=s.length,u=s[0].length+1,d=s[0][0].length;s=s.map(function(e){return e.push(l),e});var h=function(){function e(){r(this,e)}return i(e,null,[{key:"getPage",value:function(e){return s[e]}},{key:"getPagesLength",value:function(){return c}},{key:"getKeyRows",value:function(){return u}},{key:"getKeyColumns",value:function(){return d}},{key:"getKey",value:function(e,t,n){return new o(s[e][t][n])}}]),e}();e.exports=h},function(e,t,n){"use strict";var r=[[[{label:"(",onClick:function(e){return e.insertSymbol("(")}},{label:")",onClick:function(e){return e.insertSymbol(")")}},{label:"|",onClick:function(e){return e.insertSymbol("|")}},{label:"[",onClick:function(e){return e.insertSymbol("[")}},{label:"]",onClick:function(e){return e.insertSymbol("]")}},{label:"\\sqrt{a}",onClick:function(e){return e.insertCommand("sqrt",1)}},{label:"\\sqrt[n]{a}",onClick:function(e){return e.insertCommand("sqrt",1,!0)}},{label:"\\geq",onClick:function(e){return e.insertCommand("\\geq")}}],[{label:"x",onClick:function(e){return e.insert("x")}},{label:"7",onClick:function(e){return e.insert("7")}},{label:"8",onClick:function(e){return e.insert("8")}},{label:"9",onClick:function(e){return e.insert("9")}},{label:"\\frac{a}{b}",onClick:function(e){return e.insertCommand("frac",2)}},{label:"a^n",onClick:function(e){return e.insertCommand("^",1)}},{label:"a_n",onClick:function(e){return e.insertCommand("_",1)}},{label:"\\leq",onClick:function(e){return e.insertCommand("leq")}}],[{label:"y",onClick:function(e){return e.insert("y")}},{label:"4",onClick:function(e){return e.insert("4")}},{label:"5",onClick:function(e){return e.insert("5")}},{label:"6",onClick:function(e){return e.insert("6")}},null,null,null,{label:">",onClick:function(e){return e.insertSymbol(">")}}],[{label:"z",onClick:function(e){return e.insert("z")}},{label:"1",onClick:function(e){return e.insert("1")}},{label:"2",onClick:function(e){return e.insert("2")}},{label:"3",onClick:function(e){return e.insert("3")}},{label:"-",onClick:function(e){return e.insertSymbol("-")}},{label:"+",onClick:function(e){return e.insertSymbol("+")}},{label:"\\div",onClick:function(e){return e.insertCommand("div")}},{label:"<",onClick:function(e){return e.insertSymbol("<")}}],[null,{label:",",onClick:function(e){return e.insertSymbol(",")}},{label:"0",onClick:function(e){return e.insert("0")}},{label:".",onClick:function(e){return e.insertSymbol(".")}},null,{label:"\\%",onClick:function(e){return e.insertSymbol("%")}},{label:"=",onClick:function(e){return e.insertSymbol("=")}},{label:"\\pm",onClick:function(e){return e.insertCommand("pm")}}]],[[{label:"a",onClick:function(e){return e.insert("a")}},{label:"b",onClick:function(e){return e.insert("b")}},{label:"c",onClick:function(e){return e.insert("c")}},{label:"d",onClick:function(e){return e.insert("d")}},{label:"e",onClick:function(e){return e.insert("e")}},{label:"f",onClick:function(e){return e.insert("f")}},{label:"g",onClick:function(e){return e.insert("g")}},{label:"h",onClick:function(e){return e.insert("h")}}],[{label:"i",onClick:function(e){return e.insert("i")}},{label:"j",onClick:function(e){return e.insert("j")}},{label:"k",onClick:function(e){return e.insert("k")}},{label:"l",onClick:function(e){return e.insert("l")}},{label:"m",onClick:function(e){return e.insert("m")}},{label:"n",onClick:function(e){return e.insert("n")}},{label:"o",onClick:function(e){return e.insert("o")}},{label:"p",onClick:function(e){return e.insert("p")}}],[{label:"q",onClick:function(e){return e.insert("q")}},{label:"r",onClick:function(e){return e.insert("r")}},{label:"s",onClick:function(e){return e.insert("s")}},{label:"t",onClick:function(e){return e.insert("t")}},{label:"u",onClick:function(e){return e.insert("u")}},{label:"v",onClick:function(e){return e.insert("v")}},{label:"w",onClick:function(e){return e.insert("w")}},{label:"x",onClick:function(e){return e.insert("x")}}],[{label:"y",onClick:function(e){return e.insert("y")}},{label:"z",onClick:function(e){return e.insert("z")}},null,null,null,null,null,null],[null,null,null,null,null,null,null,null]],[[{label:"\\alpha",onClick:function(e){return e.insertCommand("alpha")}},{label:"\\beta",onClick:function(e){return e.insertCommand("beta")}},{label:"\\gamma",onClick:function(e){return e.insertCommand("gamma")}},{label:"\\Gamma",onClick:function(e){return e.insertCommand("Gamma")}},{label:"\\delta",onClick:function(e){return e.insertCommand("delta")}},{label:"\\Delta",onClick:function(e){return e.insertCommand("Delta")}},{label:"\\epsilon",onClick:function(e){return e.insertCommand("epsilon")}},{label:"\\varepsilon",onClick:function(e){return e.insertCommand("varepsilon")}}],[{label:"\\zeta",onClick:function(e){return e.insertCommand("zeta")}},{label:"\\eta",onClick:function(e){return e.insertCommand("eta")}},{label:"\\theta",onClick:function(e){return e.insertCommand("theta")}},{label:"\\vartheta",onClick:function(e){return e.insertCommand("vartheta")}},{label:"\\iota",onClick:function(e){return e.insertCommand("iota")}},{label:"\\kappa",onClick:function(e){return e.insertCommand("kappa")}},{label:"\\lambda",onClick:function(e){return e.insertCommand("lambda")}},{label:"\\mu",onClick:function(e){return e.insertCommand("mu")}}],[{label:"\\nu",onClick:function(e){return e.insertCommand("nu")}},{label:"\\xi",onClick:function(e){return e.insertCommand("xi")}},{label:"\\Xi",onClick:function(e){return e.insertCommand("Xi")}},{label:"\\pi",onClick:function(e){return e.insertCommand("pi")}},{label:"\\Pi",onClick:function(e){return e.insertCommand("Pi")}},{label:"\\rho",onClick:function(e){return e.insertCommand("rho")}},{label:"\\varrho",onClick:function(e){return e.insertCommand("varrho")}},{label:"\\sigma",onClick:function(e){return e.insertCommand("sigma")}}],[{label:"\\Sigma",onClick:function(e){return e.insertCommand("Sigma")}},{label:"\\tau",onClick:function(e){return e.insertCommand("tau")}},{label:"\\upsilon",onClick:function(e){return e.insertCommand("upsilon")}},{label:"\\Upsilon",onClick:function(e){return e.insertCommand("Upsilon")}},{label:"\\phi",onClick:function(e){return e.insertCommand("phi")}},{label:"\\varphi",onClick:function(e){return e.insertCommand("varphi")}},{label:"\\Phi",onClick:function(e){return e.insertCommand("Phi")}},{label:"\\chi",onClick:function(e){return e.insertCommand("chi")}}],[{label:"\\psi",onClick:function(e){return e.insertCommand("psi")}},{label:"\\Psi",onClick:function(e){return e.insertCommand("Psi")}},{label:"\\omega",onClick:function(e){return e.insertCommand("omega")}},{label:"\\Omega",onClick:function(e){return e.insertCommand("Omega")}},null,null,null,null]]],i=[{$label:"Left",onClick:function(e,t){return t.previousPage()}},{$label:"Right",onClick:function(e,t){return t.nextPage()}},null,null,{$label:"PadLeft",onClick:function(e){return e.moveCursorLeft()}},{$label:"PadRight",onClick:function(e){return e.moveCursorRight()}},{$label:"Backspace",onClick:function(e){return e.erase()}},{$label:"Enter",onClick:function(e){return e.core.insert("\\\\")}}];e.exports={pages:r,controlKeys:i}},function(e,t,n){"use strict"
;e.exports="/* perfect-scrollbar v0.6.16 */\n.ps-container{-ms-touch-action:auto;touch-action:auto;overflow:hidden !important;-ms-overflow-style:none}@supports (-ms-overflow-style: none){.ps-container{overflow:auto !important}}@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none){.ps-container{overflow:auto !important}}.ps-container.ps-active-x>.ps-scrollbar-x-rail,.ps-container.ps-active-y>.ps-scrollbar-y-rail{display:block;background-color:transparent}.ps-container.ps-in-scrolling.ps-x>.ps-scrollbar-x-rail{background-color:#eee;opacity:.9}.ps-container.ps-in-scrolling.ps-x>.ps-scrollbar-x-rail>.ps-scrollbar-x{background-color:#999;height:11px}.ps-container.ps-in-scrolling.ps-y>.ps-scrollbar-y-rail{background-color:#eee;opacity:.9}.ps-container.ps-in-scrolling.ps-y>.ps-scrollbar-y-rail>.ps-scrollbar-y{background-color:#999;width:11px}.ps-container>.ps-scrollbar-x-rail{display:none;position:absolute;opacity:0;-webkit-transition:background-color .2s linear, opacity .2s linear;-o-transition:background-color .2s linear, opacity .2s linear;-moz-transition:background-color .2s linear, opacity .2s linear;transition:background-color .2s linear, opacity .2s linear;bottom:0px;height:15px}.ps-container>.ps-scrollbar-x-rail>.ps-scrollbar-x{position:absolute;background-color:#aaa;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;-webkit-transition:background-color .2s linear, height .2s linear, width .2s ease-in-out, -webkit-border-radius .2s ease-in-out;transition:background-color .2s linear, height .2s linear, width .2s ease-in-out, -webkit-border-radius .2s ease-in-out;-o-transition:background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out;-moz-transition:background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out, -moz-border-radius .2s ease-in-out;transition:background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out;transition:background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out, -webkit-border-radius .2s ease-in-out, -moz-border-radius .2s ease-in-out;bottom:2px;height:6px}.ps-container>.ps-scrollbar-x-rail:hover>.ps-scrollbar-x,.ps-container>.ps-scrollbar-x-rail:active>.ps-scrollbar-x{height:11px}.ps-container>.ps-scrollbar-y-rail{display:none;position:absolute;opacity:0;-webkit-transition:background-color .2s linear, opacity .2s linear;-o-transition:background-color .2s linear, opacity .2s linear;-moz-transition:background-color .2s linear, opacity .2s linear;transition:background-color .2s linear, opacity .2s linear;right:0;width:15px}.ps-container>.ps-scrollbar-y-rail>.ps-scrollbar-y{position:absolute;background-color:#aaa;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;-webkit-transition:background-color .2s linear, height .2s linear, width .2s ease-in-out, -webkit-border-radius .2s ease-in-out;transition:background-color .2s linear, height .2s linear, width .2s ease-in-out, -webkit-border-radius .2s ease-in-out;-o-transition:background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out;-moz-transition:background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out, -moz-border-radius .2s ease-in-out;transition:background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out;transition:background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out, -webkit-border-radius .2s ease-in-out, -moz-border-radius .2s ease-in-out;right:2px;width:6px}.ps-container>.ps-scrollbar-y-rail:hover>.ps-scrollbar-y,.ps-container>.ps-scrollbar-y-rail:active>.ps-scrollbar-y{width:11px}.ps-container:hover.ps-in-scrolling.ps-x>.ps-scrollbar-x-rail{background-color:#eee;opacity:.9}.ps-container:hover.ps-in-scrolling.ps-x>.ps-scrollbar-x-rail>.ps-scrollbar-x{background-color:#999;height:11px}.ps-container:hover.ps-in-scrolling.ps-y>.ps-scrollbar-y-rail{background-color:#eee;opacity:.9}.ps-container:hover.ps-in-scrolling.ps-y>.ps-scrollbar-y-rail>.ps-scrollbar-y{background-color:#999;width:11px}.ps-container:hover>.ps-scrollbar-x-rail,.ps-container:hover>.ps-scrollbar-y-rail{opacity:.6}.ps-container:hover>.ps-scrollbar-x-rail:hover{background-color:#eee;opacity:.9}.ps-container:hover>.ps-scrollbar-x-rail:hover>.ps-scrollbar-x{background-color:#999}.ps-container:hover>.ps-scrollbar-y-rail:hover{background-color:#eee;opacity:.9}.ps-container:hover>.ps-scrollbar-y-rail:hover>.ps-scrollbar-y{background-color:#999}"},function(e,t,n){"use strict";function r(){MathJax.Ajax.Styles({".Mathjax_KeyboardContainer":{"background-color":"rgba(0, 0, 0, 0.5)","border-radius":"5px",height:"100%",left:0,position:"absolute",top:0,width:"100%"},".Mathjax_KeyboardArrow, .Mathjax_KeyboardArrow:after, .Mathjax_KeyboardArrow:before":{"border-left":"20px solid transparent","border-right":"20px solid transparent","border-bottom":"20px solid #fff",content:'""',display:"block",position:"absolute",top:"-18px"},".Mathjax_KeyboardArrow:after":{left:"-20px",top:0},".Mathjax_KeyboardArrow:before":{top:"-3px",left:"-23px","border-bottom-color":"#ccc","border-width":"23px"},".Mathjax_KeyboardKeyboard":{"background-color":"#fff",border:"1px solid #ccc",bottom:0,left:0,overflow:"hidden",padding:"0.5em 0",position:"absolute",width:"320px"},".Mathjax_KeyboardKeyboard.isMobile":{border:"none","border-top":"1px solid #ccc"},".Mathjax_KeyboardKeyboard.isDesktop":{"border-width":"2px"},".Mathjax_KeyboardKeyRow":{"align-items":"center",display:"flex","justify-content":"center",overflow:"hidden"},".Mathjax_KeyboardKeyRow:last-child":{"border-top":"2px solid #f1f1f1","margin-top":"0.5em","padding-top":"0.5em"},".Mathjax_KeyboardKey":{"align-items":"center","background-color":"transparent",border:"none",color:"#333",display:"flex",float:"left","justify-content":"center","text-align":"center"},".Mathjax_KeyboardKey *":{outline:"none"},".Mathjax_KeyboardInput":{"background-color":"#fff",position:"absolute !important","overflow-x":"scroll"},".Mathjax_KeyboardInput .Mathjax_EditorDisplay":{border:"none !important"},".Mathjax_KeyboardIcon":{display:"inline-block",background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAwCAYAAABwrHhvAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADwklEQVRYhcWYQWgcVRjH/9/MZClB4qWrOzNBPAkW2TrzXtIeDVZoD72EqqQnBQ96EYN3JblYEE1vhRZPQgu28dJbL0YUrLIzCYs2Z6HMzNJeKhi0bt7nIdll9u3Mzkw2u/3f3sz3vf/vfW/me7NrQpOUcqPRaLwax/F9/V5VSSnXHMdZiqJoKy/GTA+EEF8BWCWi87ZtPxkHwvO8U0R0E8CS67pGHsQAgOu6cwCWARjjQiRJ8sh13d3D+XIhBgCiKHqQShobQpsvE8IsSJo4xBDAtCEyAaYJQUWJUspLzHwLgAUAzLwahuHV3n0hBB8FCACIaN0oClJKFcaMo5EV8H3/MhF9C8AAhldfVelqEtF6q9X6PHd1vu+/N2lzIKcCQogPANzojSdlDhyuTjP/cFrmQwBCiI8BXJuW+RAAgNnjMvc871SROaA1ojiOf3Yc5wQzb45jDvQPI4uIfswzryTf9z+RUm6MPZGm3FasmxPRBoCzjuPMxXF877gArArmANAlol/yYhcWFs4ppb4B8FIJ76cArhR1Qt18pdVq3cmKbTabL8zMzPwB4GQJ8z7EqE5Y2hwALMu6ppk/BrCnhT3UxrVMgKrmvu+/Q0TL6WvM/C4zX0xBtGu12mkiup6OG9qCquae5500DGMXw6X/XSm1RERNIvrCNM0LSimfme8CONELGqhAVXMAMAxDL31PrxmG8QMzt4MgONPtdl/XzYcAnoUGAMIwvMrMq4dDi5lvSSkvjZpAKfURDh44Xf0tEEL8alnWDhFdBPBPOmioEcVxfN+27SdEdP4QcNl13d0oih5kASRJsmfb9p9E9Hb6OjOvENGLRHQXwMvMfKFWq11RStUBiF5cbh84wpuwqb0Jj3FwuM2mrj0EMJ/Oy23FVStRr9e3TNN8P2U4C2BGC5vTxk9HngVVIDqdzt/z8/PbzPwGgOdHzdszR1Er7knbjq+DIPi0TN6xalLH8UQlpVyTUq6Niim1BUc1Z+bPAHSVUqe3t7czH96JdMK0ORGt5JlnAkgp14QQN7KC01pcXHzF9/2zReaFZ0lOcrPZbM7m5AAA9vf3v9S/jqqaDwCkkn8D8Fa73dY/JkbqKOZ9AN08CIK/pmEOAJRKBg56ddmVOwCeI6L1VH5lFX4Vj1A0Rm5fBDzbLTABIIqiLdd1DQCXAbzpOM53cRz/W3aSVP4SCk7NTIAsiHq9frPT6fw3aQj9j8reJHs7OzvflzUfB2IiZ0GVZ6LUj9Oq0ivRaDQ2kyR5NDWANAQR/RSG4e28uP8BIwt4gmvglcAAAAAASUVORK5CYII=') no-repeat",height:"16px",overflow:"hidden","text-indent":"-9999px","text-align":"left",width:"16px"},".Mathjax_KeyboardIcon_PadRight":{"background-position":"-0px -0px"},".Mathjax_KeyboardIcon_Right":{"background-position":"-16px -0px"},".Mathjax_KeyboardIcon_PadLeft":{"background-position":"-0px -16px"},".Mathjax_KeyboardIcon_Backspace":{"background-position":"-16px -16px"},".Mathjax_KeyboardIcon_Enter":{"background-position":"-0px -32px"},".Mathjax_KeyboardIcon_Left":{"background-position":"-16px -32px"},".Mathjax_KeyboardDisplay":{position:"relative"}}),MathJax.Ajax.Styles(i)}var i=n(34);window.addEventListener("load",r)},function(e,t,n){"use strict";e.exports={applyStyles:function(e,t){Object.keys(t).forEach(function(n){var r=t[n];"number"==typeof r&&(r+="px"),e.style[n]=r})},emptyElement:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},findNode:function(e,t){for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1},findClass:function(e,t){for(var n=e;n;){if(!n)return!1;if(n.className&&n.className.indexOf&&~n.className.indexOf(t))return!0;n=n.parentNode}return!1}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(5),a=o.toArray,s=n(9),l=function(){function e(t){r(this,e);var n=new s(t);this.core=n,this.mathjaxEditor=n.mathjaxEditor,this.version="1.2.3"}return i(e,[{key:"getValue",value:function(){return this.mathjaxEditor.getValue()}},{key:"setValue",value:function(e){return this.mathjaxEditor.setValue(e)}},{key:"on",value:function(e,t){this.mathjaxEditor.on(e,t)}},{key:"destroy",value:function(){this.core.destroy()}}]),e}();window.addEventListener("load",function(){a(document.getElementsByClassName("mathjax-editor-html")).forEach(function(e){var t=e.getAttribute("data-scroll"),n=e.getAttribute("data-new-line"),r=e.getAttribute("data-value"),i=e.getAttribute("data-keyboard-z-index"),o={el:e,scroll:"true"===t,newLine:"true"===n,keyboardZIndex:i};r&&r.length&&(o.value=r),e.mathjaxEditor=new l(o)})}),e.exports=l}])});